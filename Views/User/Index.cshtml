@model IEnumerable<Final_project.Models.User>

@{
    ViewBag.Title = "Manage Users";
    Layout = "_Layout";
}

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

@if (TempData["Message"] != null)
{
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        @TempData["Message"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>



<div class="table-responsive shadow-sm rounded-3 overflow-hidden">
    <table class="styled-table table align-middle mb-0">
        <thead class="table-light">
            <tr>
                <th>ID</th>
                <th>Full Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Gender</th>
                <th class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                foreach (var user in Model)
                {
                    <tr>
                        <td class="fw-bold text-muted">#@user.User_ID</td>
                        <td>@user.FullName</td>
                        <td>@user.Email</td>
                        <td>@user.Phone</td>
                        <td>
                            <span class="badge @(user.Gender=="Male"?"bg-primary":"bg-pink")">
                                @user.Gender
                            </span>
                        </td>
                        <td class="action-buttons">
                            <a asp-action="Details" asp-route-id="@user.User_ID" class="icon-btn info">
                                <i class="fa-solid fa-circle-info"></i>
                            </a>
                           
                            <form asp-action="Delete" asp-route-id="@user.User_ID" method="post" class="d-inline">
                                @Html.AntiForgeryToken()
                                <button type="submit" class="icon-btn delete" onclick="return confirm('Are you sure you want to delete this user?');">
                                    <i class="fa-solid fa-trash"></i>
                                </button>
                            </form>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="6" class="text-center text-muted py-4">
                        No users found.
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<style>
    /* ===== Table ===== */
    .styled-table {
        width: 100%;
        min-width: 0;
        background: #fff;
        border-collapse: collapse;
    }
    .styled-table thead th {
        font-weight: 600;
        color: #495057;
        padding: 1rem;
        text-align: center;
    }
    .styled-table tbody td {
        padding: 0.75rem;
        vertical-align: middle;
        text-align: center;
    }
    /* Zebra Rows */
    .styled-table tbody tr:nth-child(odd){ background-color: #fafafa; }
    .styled-table tbody tr:nth-child(even){ background-color: #f0f4f8; }
    .styled-table tbody tr:hover{ background-color: #e3f2fd !important; }

    /* Action Buttons */
    .action-buttons { display: flex; gap: 6px; justify-content: center; flex-wrap: wrap; }
    .icon-btn {
        width: 28px; height: 28px;
        display: flex; justify-content: center; align-items: center;
        border-radius: 6px; font-size: 14px; cursor: pointer;
        transition: .2s; border: none; background: transparent;
    }
    .icon-btn.info { background: #e3f2fd; color: #1e88e5; }
    .icon-btn.info:hover { background: #bbdefb; }
    .icon-btn.edit { background: #fff8e1; color: #ffb300; }
    .icon-btn.edit:hover { background: #ffe082; }
    .icon-btn.delete { background: #ffebee; color: #e53935; }
    .icon-btn.delete:hover { background: #ffcdd2; }

    /* Badges */
    .bg-pink { background-color: #f8bbd0 !important; color: #880e4f !important; }

    /* Buttons hover scale */
    .btn:hover { transform: scale(1.05); transition: 0.2s; }

    /* Alerts */
    .alert-success { background-color: #e0f2f1; border-color: #b2dfdb; color: #004d40; }
    .alert-info { background-color: #e1f5fe; border-color: #81d4fa; color: #01579b; }

    /* Responsive */
    @@media (max-width: 768px) {
        .table-responsive { overflow-x: auto; }
        .action-buttons { flex-wrap: wrap; gap: 4px; }
    }
</style>
